(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{394:function(e,t,r){"use strict";r.r(t);r(28);var n=r(498),l=r(499),o={name:"CategorySelected",props:{title:{type:String,default:"Showing items under categories:"},categories:{type:Array,default:function(){return[{name:"sports",counts:120}]}}},data:function(){return{}},methods:{}},c=r(5),m=r(24),d=r.n(m),h=r(422),f=r(376),v=r(374),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.categories.length>0?r("v-row",[r("v-col",[r("strong",[e._v(e._s(e.title)+" ")]),e._l(e.categories,(function(t,n){return r("v-chip",{key:n,attrs:{color:"success",close:""},on:{"click:close":function(r){return e.$emit("remove-selected-cat",t)}}},[e._v(e._s(t))])}))],2)],1):e._e()}),[],!1,null,null,null),y=component.exports;d()(component,{VChip:h.a,VCol:f.a,VRow:v.a});var _={name:"MemberCard",props:{member:{type:Object,default:function(){return{id:"1234sdis12",first_name:"first name",last_name:"last name"}}}},data:function(){return{}}},C=r(366),x=r(382),k=r(380),w=Object(c.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-1",attrs:{nocolor:"#1F7087",color:"#385F73",dark:""}},[r("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[r("div",[r("v-card-title",{staticClass:"headline"},[r("v-avatar",{staticClass:"accent white--text",attrs:{size:"36",left:""},domProps:{textContent:e._s(e.member.first_name.slice(0,1).toUpperCase())}}),r("span",{staticClass:"ml-3"},[e._v(e._s(e.member.first_name))])],1),r("v-card-subtitle",[e.member.email?r("div",[e._v("E-mail: "),r("strong",[e._v(e._s(e.member.email))])]):e._e(),e.member.phone?r("div",[e._v("Phone: "),r("strong",[e._v(e._s(e.member.phone))])]):e._e()])],1)])])}),[],!1,null,null,null),V=w.exports;d()(w,{VAvatar:C.a,VCard:x.a,VCardSubtitle:k.b,VCardTitle:k.d});r(12),r(7),r(6),r(4),r(9);var P=r(1);r(13);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(P.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var M={name:"NewMemberCard",mixins:[r(61).a],props:{space:{type:[Number,String],default:0}},data:function(){return{valid:!1,name:"",email:"",phone:"",tags:[],allTags:["Friends","Student"],tagInput:null,notes:"",rules:{required:function(e){return!!e||"Required."},counter:function(e){return e.length<=20||"Max 20 characters"},email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Invalid e-mail."},phone:function(e){if(""===e||null===e)return!0;return/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/.test(e)||"Invalid phone number."}},alert:!1,alertType:"info",message:"message goes here"}},computed:{styles:function(){var e=this.$vuetify.breakpoint.mdAndUp?this.space:this.space/2;return console.log(e),O(O({},this.measurableStyles),{},{padding:"".concat(e,"px 0")})}},beforeDestroy:function(){this.alert=!1,this.alertType="info"},methods:{handleOkButton:function(){this.$emit("new-member-cancel"),this.alert=!1,this.alertType="info"},handleSaveButton:function(){var e=this,t=this;t.$axios.post("/s/bbf/member/add",{first_name:this.name,email:this.email,phone:this.phone,tags:this.tags,notes:this.notes}).then((function(r){switch(console.log(r.data.status),r.data.status){case"success":t.alertType="success",t.message="Successfully added contact!",t.alert=!0,e.resetFields();break;case"exist":t.alertType="info",t.message="Email ".concat(r.data.user.email," is already exist!"),t.alert=!0}}))},handleCancelButton:function(){this.resetFields(),this.$emit("new-member-cancel")},resetFields:function(){this.name="",this.phone="",this.email="",this.tags=[],this.notes=""},removeTagSelection:function(e){var t=this.tags.indexOf(e);t>=0&&this.tags.splice(t,1)}}},T=r(379),j=r(143),$=r(617),F=r(377),I=r(147),A=r(525),D=r(385),E=r(513),B=r(362),N=r(615),L=r(421),R=r(406),H=Object(c.a)(M,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",e._b({},"v-card",e.$attrs,!1),[r("v-toolbar",{attrs:{flat:"",color:"primary",dark:""}},[r("v-btn",{attrs:{icon:"",dark:""}},[r("v-icon",[e._v("mdi-account-plus")])],1),r("v-toolbar-title",[e._v("Add New Member")])],1),r("v-card-text",["success"!=e.alertType?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{label:"Name",rules:[e.rules.required],required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-text-field",{attrs:{label:"E-mail",rules:[e.rules.required,e.rules.email],required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{label:"Phone Number",rules:[e.rules.phone]},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),r("v-combobox",{attrs:{label:"Tags",items:e.allTags,multiple:"","search-input":e.tagInput,chips:"","small-chips":""},on:{input:function(t){e.tagInput=null},"update:searchInput":function(t){e.tagInput=t},"update:search-input":function(t){e.tagInput=t}},scopedSlots:e._u([{key:"selection",fn:function(data){return[r("v-chip",{attrs:{close:""},on:{"click:close":function(t){return e.removeTagSelection(data.item)}}},[e._v(e._s(data.item))])]}},{key:"no-data",fn:function(){return[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v('No results matching "'),r("strong",[e._v(e._s(e.tagInput))]),e._v('". Press '),r("kbd",[e._v("enter")]),e._v(" to create a new one")])],1)],1)]},proxy:!0}],null,!1,3102627292),model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}}),r("v-textarea",{attrs:{label:"Notes"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}})],1):e._e(),r("v-alert",{staticClass:"mt-4 mb-0",attrs:{border:"left",dense:"",elevation:"1",text:"",type:e.alertType},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(e._s(e.message))])],1),r("v-card-actions",[r("v-spacer"),"success"===e.alertType?r("v-btn",{staticClass:"mr-2",attrs:{dark:"",color:"primary"},on:{click:e.handleOkButton}},[e._v("Ok")]):e._e(),"success"!=e.alertType?r("v-btn",{staticClass:"mr-2",attrs:{dark:"",color:"success"},on:{click:e.handleSaveButton}},[e._v("Save")]):e._e(),"success"!=e.alertType?r("v-btn",{attrs:{dark:"",color:"warning"},on:{click:e.handleCancelButton}},[e._v("Cancel")]):e._e()],1)],1)}),[],!1,null,null,null),z=H.exports;d()(H,{VAlert:T.a,VBtn:j.a,VCard:x.a,VCardActions:k.a,VCardText:k.c,VChip:h.a,VCombobox:$.a,VForm:F.a,VIcon:I.a,VListItem:A.a,VListItemContent:D.a,VListItemTitle:D.c,VSpacer:E.a,VTextField:B.a,VTextarea:N.a,VToolbar:L.a,VToolbarTitle:R.a});var J={name:"SectionMembersList",components:{"search-box":n.a,"category-filter":l.a,"category-selected":y,"member-card":V,"new-member-card":z},data:function(){return{members:[{first_name:"First",last_name:"Last",id:123}],queryStr:"*:*",categories:[],selectedCats:[],totalHits:0,currentPage:1,perPage:12,totalPages:0,totalVisible:7,newMemberDialog:!1}},methods:{queryMembers:function(e){var t=this,r={query:t.queryStr,start:e,rows:t.perPage};t.selectedCats.length>0&&(r.cats=t.selectedCats),t.$axios.get("/s/bbf/members",{params:r}).then((function(e){t.members=e.data.docs,t.categories=e.data.cats,t.totalHits=e.data.numFound,t.totalPages=Math.ceil(t.totalHits/t.perPage)}))},handleSearchMember:function(e){this.queryStr=e,this.currentPage=1,this.queryMembers(0)},flipPage:function(){this.queryMembers((this.currentPage-1)*this.perPage)},handleCategorySelect:function(e){this.selectedCats.push(e.name),this.currentPage=1,this.queryMembers(0)},handleRemoveSelectedCat:function(e){this.selectedCats=this.selectedCats.filter((function(t){return t!==e})),this.currentPage=1,this.queryMembers(0)}},computed:{paginationSummary:function(){var e=(this.currentPage-1)*this.perPage+1,t=this.currentPage===this.totalPages?this.totalHits:this.currentPage*this.perPage;return"".concat(e," - ").concat(t," of ").concat(this.totalHits," Members")}},beforeMount:function(){this.queryMembers(0)}},U=r(378),Z=r(555),G=r(546),K=r(145),Q=Object(c.a)(J,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("store-base-section",{attrs:{id:"memberslist"}},[r("store-base-section-heading",{attrs:{title:"Members List",space:"1"}}),r("v-container",[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"3"}},[r("search-box",{attrs:{label:"Search Members"},on:{"searchbox-search":e.handleSearchMember}}),r("v-container",{staticClass:"pt-0"},[r("v-btn",{attrs:{color:"success",align:"right"},on:{click:function(t){e.newMemberDialog=!0}}},[e._v("New Member")])],1),r("category-filter",{attrs:{categories:e.categories},on:{"category-select":e.handleCategorySelect}})],1),r("v-col",{attrs:{cols:"9"}},[r("category-selected",{attrs:{categories:e.selectedCats,title:"Members in categories: "},on:{"remove-selected-cat":e.handleRemoveSelectedCat}}),e.members.length>0?r("v-row",[r("v-col",{staticClass:"pa-0"},[r("v-btn",{attrs:{text:"",color:"primary",large:""}},[e._v(e._s(e.paginationSummary))])],1),r("v-spacer"),r("v-col",{staticClass:"pa-0"},[r("v-pagination",{attrs:{length:e.totalPages,"total-visible":e.totalVisible,circle:""},on:{input:e.flipPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1):e._e(),r("v-row",[e._l(e.members,(function(t,n){return[r("v-col",{key:t.id},[r("member-card",{attrs:{member:t}})],1),(n+1)%2==0?r("v-responsive",{key:"width-"+n,attrs:{width:"100%"}}):e._e()]}))],2)],1)],1)],1),r("v-dialog",{attrs:{persistent:"",fullscreen:e.$vuetify.breakpoint.mobile,"max-width":"500"},model:{value:e.newMemberDialog,callback:function(t){e.newMemberDialog=t},expression:"newMemberDialog"}},[r("new-member-card",{on:{"new-member-cancel":function(t){e.newMemberDialog=!1,e.queryMembers(0)}}})],1)],1)}),[],!1,null,null,null);t.default=Q.exports;d()(Q,{VBtn:j.a,VCol:f.a,VContainer:U.a,VDialog:Z.a,VPagination:G.a,VResponsive:K.a,VRow:v.a,VSpacer:E.a})},498:function(e,t,r){"use strict";var n={name:"ChannelSearch",props:{label:{type:String,default:"Search"}},data:function(){return{query:null}},methods:{handleClickAppend:function(){var e="*:*";null!==this.query&&this.query.length>0&&(e=this.query),this.$emit("searchbox-search",e)}}},l=r(5),o=r(24),c=r.n(o),m=r(378),d=r(362),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-text-field",{attrs:{outlined:"",id:"input-query",autocomplete:"off",label:e.label,clearable:"","append-icon":"mdi-magnify"},on:{"click:clear":function(t){return e.$emit("searchbox-search","*:*")},"click:append":e.handleClickAppend,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleClickAppend(t)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VContainer:m.a,VTextField:d.a})},499:function(e,t,r){"use strict";var n={name:"CategoryFilter",props:{label:{type:String,default:"Filter by categories"},categories:{type:Array,default:function(){return[{name:"movies",counts:20},{name:"sports",counts:120}]}}},data:function(){return{}},methods:{}},l=r(5),o=r(24),c=r.n(o),m=r(422),d=r(378),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("h3",{staticClass:"mb-2"},[e._v(e._s(e.label))]),e._l(e.categories,(function(t,n){return r("v-chip",{key:t.name,staticClass:"ma-1",attrs:{color:"primary"},on:{click:function(r){return e.$emit("category-select",t)}}},[e._v(e._s(t.name)+" ("+e._s(t.counts)+")")])}))],2)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VChip:m.a,VContainer:d.a})}}]);